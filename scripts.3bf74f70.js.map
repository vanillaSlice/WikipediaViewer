{"version":3,"sources":["../package.json","scripts/index.js"],"names":["module","exports","name","version","description","keywords","homepage","bugs","url","email","license","author","repository","type","scripts","test","start","build","devDependencies","acorn","autoprefixer","eslint","stylelint","private","wikipediaUrl","queryUrl","randomUrl","searchBtnElement","$","randomBtnElement","searchFormContainerElement","searchFormElement","searchInputElement","resultsContainerElement","versionElement","handleSearchBtnClick","attr","addClass","removeClass","handleRandomBtnClick","window","open","handleSearchSuccess","data","empty","results","appendTo","query","pages","Object","keys","forEach","key","page","href","title","replace","append","extract","handleSearchError","error","console","handleSearch","ajax","dataType","encodeURIComponent","val","success","handleSearchFormSubmit","e","preventDefault","blur","click","submit","text"],"mappings":";AAAAA,OAAOC,QAAQ,CAACC,KAAK,mBAAmBC,QAAQ,QAAQC,YAAY,8DAA8DC,SAAS,CAAC,mBAAmB,gBAAgBC,SAAS,wCAAwCC,KAAK,CAACC,IAAI,yDAAyDC,MAAM,yBAAyBC,QAAQ,MAAMC,OAAO,CAACT,KAAK,YAAYO,MAAM,wBAAwBD,IAAI,6BAA6BI,WAAW,CAACC,KAAK,MAAML,IAAI,uDAAuDM,QAAQ,CAACC,KAAK,eAA2B,YAAA,oBAAoC,gBAAA,yBAAwC,eAAA,qBAAqBC,MAAM,iCAAiCC,MAAM,wDAAwDC,gBAAgB,CAACC,MAAM,SAASC,aAAa,SAASC,OAAO,UAAsC,4BAAA,UAAiC,uBAAA,UAAwB,cAAA,SAA0B,iBAAA,UAAwC,8BAAA,SAASC,UAAU,UAAyC,+BAAA,UAAUC,SAAQ;;ACyFrhC,aAzFA,IAAA,EAAA,QAAA,sBAMMC,EAAe,iCACfC,EAAW,oJACXC,EAAY,+CAMZC,EAAmBC,EAAE,kBACrBC,EAAmBD,EAAE,kBACrBE,EAA6BF,EAAE,6BAC/BG,EAAoBH,EAAE,mBACtBI,EAAqBJ,EAAE,oBACvBK,EAA0BL,EAAE,yBAC5BM,EAAiBN,EAAE,eAMzB,SAASO,IACPR,EAAiBS,KAAK,YAAY,GAClCN,EAA2BO,SAAS,mBAAmBC,YAAY,UAGrE,SAASC,IACPC,OAAOC,KAAKf,GAGd,SAASgB,EAAoBC,GAC3BV,EAAwBW,QAAQN,YAAY,UAEtCO,IAAAA,EAAUjB,EAAE,gEAId,GAFJiB,EAAQC,SAASb,GAEZU,EAAKI,OAAUJ,EAAKI,MAAMC,MAA3B,CAKIA,IAAAA,EAAUL,EAAKI,MAAfC,MACRC,OAAOC,KAAKF,GAAOG,QAAQ,SAACC,GACpBC,IAAAA,EAAOL,EAAMI,GACbE,EAAO9B,EAAe6B,EAAKE,MAAMC,QAAQ,IAAK,KAEpDX,EAAQY,OACN,+CAA+CH,OAAAA,EAC7C,sBAAA,QACOD,OAAAA,OAAAA,EAAKE,MACqCF,SAAAA,iDAAAA,OAAAA,EAAKK,QACtD,QAAA,qBAdJb,EAAQY,OAAO,uBAoBnB,SAASE,EAAkBC,GACzBC,QAAQD,MAAMA,GAGhB,SAASE,IACPlC,EAAEmC,KAAK,CACLC,SAAU,QACVxD,IAAKiB,EAAWwC,mBAAmBjC,EAAmBkC,OACtDC,QAASzB,EACTkB,MAAOD,IAIX,SAASS,EAAuBC,GAC9BA,EAAEC,iBACFtC,EAAmBuC,OACnBT,IAOFnC,EAAiB6C,MAAMrC,GACvBN,EAAiB2C,MAAMjC,GACvBR,EAAkB0C,OAAOL,GACzBlC,EAAewC,KAAKvE,EAApB","file":"scripts.3bf74f70.js","sourceRoot":"../src","sourcesContent":["module.exports={name:\"wikipedia-viewer\",version:\"1.1.0\",description:\"Intermediate Front End Development Project for FreeCodeCamp\",keywords:[\"wikipedia viewer\",\"freecodecamp\"],homepage:\"https://wikipediaviewer.mikelowe.xyz/\",bugs:{url:\"https://github.com/vanillaSlice/WikipediaViewer/issues\",email:\"mikelowedev@gmail.com\"},license:\"MIT\",author:{name:\"Mike Lowe\",email:\"mikelowedev@gmail.com\",url:\"https://www.mikelowe.xyz/\"},repository:{type:\"git\",url:\"https://github.com/vanillaSlice/WikipediaViewer.git\"},scripts:{test:\"run-s test:*\",\"test:lint\":\"run-s test:lint:*\",\"test:lint:css\":\"stylelint src/**/*.css\",\"test:lint:js\":\"eslint src/**/*.js\",start:\"parcel src/index.html -d build\",build:\"parcel build src/index.html -d build --public-url ./\"},devDependencies:{acorn:\"^6.0.5\",autoprefixer:\"^9.4.6\",eslint:\"^5.12.1\",\"eslint-config-airbnb-base\":\"^13.1.0\",\"eslint-plugin-import\":\"^2.15.0\",\"npm-run-all\":\"^4.1.5\",\"parcel-bundler\":\"^1.12.3\",\"parcel-plugin-browserconfig\":\"^1.0.0\",stylelint:\"^9.10.1\",\"stylelint-config-recommended\":\"^2.1.0\"},private:!0};","import { version } from '../../package.json';\n\n/*\n * URLs\n */\n\nconst wikipediaUrl = 'https://en.wikipedia.org/wiki/';\nconst queryUrl = 'https://en.wikipedia.org/w/api.php?action=query&prop=extracts&exintro=true&exsentences=1&explaintext=true&generator=search&format=json&gsrsearch=';\nconst randomUrl = 'https://en.wikipedia.org/wiki/Special:Random';\n\n/*\n * DOM Elements\n */\n\nconst searchBtnElement = $('.js-search-btn');\nconst randomBtnElement = $('.js-random-btn');\nconst searchFormContainerElement = $('.js-search-form-container');\nconst searchFormElement = $('.js-search-form');\nconst searchInputElement = $('.js-search-input');\nconst resultsContainerElement = $('.js-results-container');\nconst versionElement = $('.js-version');\n\n/*\n * Functions\n */\n\nfunction handleSearchBtnClick() {\n  searchBtnElement.attr('disabled', true);\n  searchFormContainerElement.addClass('animated fadeIn').removeClass('hidden');\n}\n\nfunction handleRandomBtnClick() {\n  window.open(randomUrl);\n}\n\nfunction handleSearchSuccess(data) {\n  resultsContainerElement.empty().removeClass('hidden');\n\n  const results = $('<div class=\"wiki-viewer__search-results animated slideInUp\">');\n\n  results.appendTo(resultsContainerElement);\n\n  if (!data.query || !data.query.pages) {\n    results.append('No results returned');\n    return;\n  }\n\n  const { pages } = data.query;\n  Object.keys(pages).forEach((key) => {\n    const page = pages[key];\n    const href = wikipediaUrl + page.title.replace(' ', '_');\n\n    results.append(\n      `<a class=\"wiki-viewer__search-result\" href=\"${href}\" target=\"_blank\">`\n      + '<div>'\n      + `<h2>${page.title}</h2>`\n      + `<p class=\"wiki-viewer__search-result-extract\">${page.extract}</p>`\n      + '</div>'\n      + '</a>',\n    );\n  });\n}\n\nfunction handleSearchError(error) {\n  console.error(error);\n}\n\nfunction handleSearch() {\n  $.ajax({\n    dataType: 'jsonp',\n    url: queryUrl + encodeURIComponent(searchInputElement.val()),\n    success: handleSearchSuccess,\n    error: handleSearchError,\n  });\n}\n\nfunction handleSearchFormSubmit(e) {\n  e.preventDefault();\n  searchInputElement.blur();\n  handleSearch();\n}\n\n/*\n * Initialise\n */\n\nsearchBtnElement.click(handleSearchBtnClick);\nrandomBtnElement.click(handleRandomBtnClick);\nsearchFormElement.submit(handleSearchFormSubmit);\nversionElement.text(version);\n"]}